<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weekly Match Tracker</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        table { width: 80%; margin: 20px auto; border-collapse: collapse; }
        th, td { border: 1px solid black; padding: 10px; }
        th { background-color: #f0f0f0; }
    </style>
</head>
<body>
    <h1>Weekly Match Tracker</h1>
    <h3>All Match Results</h3>

    <!-- Table where results will be shown -->
    <table id="matchResults">
        <thead>
            <tr>
                <th>Date</th>
                <th>Team A</th>
                <th>Team B</th>
                <th>Match 1 Score (A)</th>
                <th>Match 1 Score (B)</th>
                <th>Match 2 Score (A)</th>
                <th>Match 2 Score (B)</th>
                <th>Total Score (A)</th>
                <th>Total Score (B)</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        // Paste your Google Sheet CSV link here (Ensure "output=csv" at the end)
        const googleSheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-XXXXXXX/pub?output=csv";

        async function loadMatchData() {
            try {
                const response = await fetch(googleSheetURL);
                const data = await response.text();
                
                // Split CSV data by line and comma
                const rows = data.split("\n").map(row => row.split(","));
                const tbody = document.querySelector("#matchResults tbody");
                
                // Clear old data
                tbody.innerHTML = "";

                // Skip the first row (headers) and loop through the data
                for (let i = 1; i < rows.length; i++) {
                    const row = rows[i];
                    if (row.length > 1) { // Prevent empty rows from showing
                        const tr = document.createElement("tr");
                        row.forEach(cell => {
                            const td = document.createElement("td");
                            td.textContent = cell;
                            tr.appendChild(td);
                        });
                        tbody.appendChild(tr);
                    }
                }
            } catch (error) {
                console.error("Error loading data:", error);
            }
        }

        // Load data when the page loads
        window.onload = loadMatchData;
    </script>
</body>
</html>
