<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hapoel Tel Aviv Goal Tracker</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        table { width: 90%; margin: 20px auto; border-collapse: collapse; }
        th, td { border: 1px solid black; padding: 10px; text-align: center; }
        th { background-color: red; color: white; }
        img { max-width: 80px; border-radius: 10px; }
        .hidden { display: none; }
        .match-pics img {
    max-width: 100%;    /* Allows the image to scale with the container */
    height: auto;       /* Maintain aspect ratio */
    border-radius: 10px;
    margin: 10px;
    display: block;     /* Prevent side-by-side stacking */
}

img { 
    max-width: 300px;    /* Increase the size for general images */
    height: auto;
}
        .expand-btn { cursor: pointer; font-weight: bold; color: blue; text-decoration: underline; }
    </style>
</head>
<body>
    <h1>‚öΩ Hapoel Tel Aviv Goal Tracker ‚öΩ</h1>
    <h3>Click on a match for more details!</h3>

    <!-- Table for Match Display with Total Scores -->
    <table id="matchResults">
        <thead>
            <tr>
                <th>Date</th>
                <th>Team A</th>
                <th>Team A Logo</th>
                <th>Team B</th>
                <th>Team B Logo</th>
                <th>Team A Score</th>
                <th>Team B Score</th>
                <th>More Info</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <!-- JavaScript to Load Data and Expand Rows -->
    <script>
        const googleSheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQLP3NhY3OCbw3X5Ry0jGfTWQRUW1BQxYX8wia8C_zXWalYQiak1MkPiqbIEFBHJONej08svc5T9j5q/pub?output=csv";

        async function loadMatchData() {
            try {
                const response = await fetch(googleSheetURL);
                const data = await response.text();
                
                const rows = data.split("\n").map(row => row.split(","));
                const tbody = document.querySelector("#matchResults tbody");

                tbody.innerHTML = "";

                for (let i = 1; i < rows.length; i++) {
                    const row = rows[i];
                    if (row.length > 1) {
                        const tr = document.createElement("tr");

                        // Display Standard Match Info
                        for (let j = 0; j < 7; j++) {
                            const td = document.createElement("td");

                            // ‚úÖ Display Team Logos
                            if (j === 2 || j === 4) {
                                const img = document.createElement("img");
                                img.src = row[j].trim();
                                img.alt = "Team Logo";
                                td.appendChild(img);
                            } else {
                                td.textContent = row[j];
                            }
                            tr.appendChild(td);
                        }

                        // ‚úÖ Expand Button for More Info
                        const expandTd = document.createElement("td");
                        expandTd.innerHTML = '<span class="expand-btn" onclick="toggleDetails(this)">‚ûï More Info</span>';
                        tr.appendChild(expandTd);
                        tbody.appendChild(tr);

                        // ‚úÖ Hidden Row for Extra Details (Goal Scorers, Pictures, Note)
                        const detailRow = document.createElement("tr");
                        detailRow.classList.add("hidden");

                        const detailTd = document.createElement("td");
                        detailTd.setAttribute("colspan", "8");

                        // ‚úÖ Display Goal Scorers
                        const goalScorers = document.createElement("p");
                        goalScorers.innerHTML = `<strong>üéØ Hapoel Tel Aviv Goal Scorers:</strong> ${row[7]}`;

                        // ‚úÖ Display Match Pictures (Multiple Images)
                        const imgContainer = document.createElement("div");
                        imgContainer.classList.add("match-pics");
                        const imageUrls = row[8].split(",");
imageUrls.forEach(url => {
    const img = document.createElement("img");
    img.src = url.trim();
    img.alt = "Match Picture";
    img.style.maxWidth = "300px";  // ‚úÖ Increased size for better visibility
    img.style.height = "auto";
    img.style.borderRadius = "10px";
    imgContainer.appendChild(img);
});

                        // ‚úÖ Display Match Note
                        const note = document.createElement("p");
                        note.innerText = `üìù Note: ${row[9]}`;

                        detailTd.appendChild(goalScorers);
                        detailTd.appendChild(imgContainer);
                        detailTd.appendChild(note);
                        detailRow.appendChild(detailTd);
                        tbody.appendChild(detailRow);
                    }
                }
            } catch (error) {
                console.error("Error loading data:", error);
            }
        }

        // ‚úÖ Expand and Collapse Function
        function toggleDetails(element) {
            const row = element.closest("tr").nextElementSibling;
            row.classList.toggle("hidden");
            element.innerText = row.classList.contains("hidden") ? "‚ûï More Info" : "‚ûñ Hide Info";
        }

        // ‚úÖ Load data when the page loads
        window.onload = loadMatchData;
    </script>
</body>
</html>
